:root{ --w: 980px; --bg:#0F1C2E; --card:#13243A; --text:#E6F0FA; --title:#F8FBFF; --hint:#FDE68A; --line:rgba(79,195,247,0.25); --accent:#4FC3F7; --accent2:#81D4FA; }
*{box-sizing:border-box}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;background:var(--bg);color:var(--text)}
.wrap{max-width:var(--w);margin:24px auto;padding:0 16px}
h1{margin:0 0 12px 0;font-size:22px;letter-spacing:.2px}
.topnav{display:flex;gap:10px;align-items:center;margin:10px 0 18px 0}
.pill{display:inline-flex;gap:8px;align-items:center;border:1px solid var(--line);border-radius:999px;padding:6px 10px;font-size:12px;color:#111;background:#fff;text-decoration:none}
.pill.active{border-color:#111}
.muted{color:var(--g);font-size:12px}
.card{border:1px solid var(--line);border-radius:10px;background:var(--card);padding:16px;margin:12px 0}
.row{display:flex;gap:12px;flex-wrap:wrap}
.field{display:flex;flex-direction:column;gap:6px;min-width:160px}
label{font-size:12px;color:#111}
input,select,textarea{border:1px solid var(--line);border-radius:8px;padding:10px;font-size:14px;outline:none}
textarea{min-height:90px;resize:vertical}
button{border:1px solid #111;background:#111;color:#fff;border-radius:10px;padding:10px 14px;font-weight:600;cursor:pointer}
button.secondary{border-color:var(--line);background:#fff;color:#111}
hr{border:none;border-top:1px solid var(--line);margin:14px 0}
.error{border:1px solid #f0b4b4;background:#fff5f5;color:#8a1f1f;border-radius:10px;padding:12px;margin-top:12px;font-size:13px}
.kpis{display:flex;gap:10px;flex-wrap:wrap}
.kpi{border:1px solid var(--line);border-radius:999px;padding:6px 10px;font-size:12px}
table{width:100%;border-collapse:collapse}
th,td{border-bottom:1px solid var(--line);padding:10px 8px;font-size:13px;text-align:left}
th{color:#333;font-weight:700}
.right{float:right}
.small{font-size:12px;color:#666}
.bar{height:14px;border:1px solid var(--line);border-radius:999px;overflow:hidden;background:#fafafa}
.bar > div{height:100%;background:#111}

/* --- v65 Pro Dashboard --- */
.dash{display:flex;flex-direction:column;gap:14px}
.dash-top{display:grid;grid-template-columns:repeat(4,minmax(180px,1fr));gap:12px}
@media(max-width:980px){.dash-top{grid-template-columns:repeat(2,minmax(160px,1fr));}}
.kpi-card{border:1px solid var(--line);border-radius:14px;padding:12px 14px;background:#fff}
.kpi-label{font-size:12px;color:var(--g);margin-bottom:6px}
.kpi-value{font-size:20px;font-weight:800;letter-spacing:.2px}
.kpi-card.green{background:#eaffea;border-color:#9be39b}
.kpi-card.red{background:#ffecec;border-color:#f3a3a3}
.kpi-card.orange{background:#fff3e6;border-color:#f0c08b}
.kpi-card.blue{background:#eef5ff;border-color:#a9c7ff}
.dash-grid{display:grid;grid-template-columns:2fr 1fr;gap:12px}
@media(max-width:980px){.dash-grid{grid-template-columns:1fr}}
.card-title{font-weight:800;margin-bottom:8px}
.tight th,.tight td{padding:8px 6px;font-size:12px}
.ws div{padding:6px 0;border-bottom:1px dashed var(--line)}
.ws div:last-child{border-bottom:none}
.spark{width:100%;height:auto;display:block}
.eq-head{display:flex;align-items:flex-end;justify-content:space-between;gap:10px;margin-bottom:6px}
.seg{display:flex;gap:6px}
.seg-btn{border:1px solid var(--line);background:#fff;border-radius:10px;padding:6px 10px;font-weight:700;cursor:pointer}
.seg-btn.active{background:#111;color:#fff;border-color:#111}



/* === SOFT BLUE THERAPY (GLOBAL OVERRIDES v3) === */
:root{
  --bg:#0F1C2E;
  --card:#13243A;
  --text:#E6F0FA;
  --title:#F8FBFF;
  --muted:#AFC3D8;
  --line:rgba(129,212,250,0.35);
  --accent:#4FC3F7;
  --accent2:#81D4FA;
}

body{background:var(--bg)!important;color:var(--text)!important;}
h1,h2,h3,h4,.title,.header{color:var(--title)!important;}

.card,.box,.panel,.container,.kpi,.kpi-card,.seg,.seg-box,.section{
  background:var(--card)!important;
  color:var(--text)!important;
  border-color:var(--line)!important;
  box-shadow:0 0 24px rgba(79,195,247,0.10);
}

.small,.muted,small,.hint,.help,.sub,.meta{
  color:var(--muted)!important;
}

a{color:var(--accent2);}
hr{border-color:var(--line)!important;}

input,select,textarea{
  background:rgba(11,21,37,0.85)!important;
  color:var(--text)!important;
  border:1px solid var(--line)!important;
}
input::placeholder,textarea::placeholder{color:rgba(175,195,216,0.75)!important;}

button,.btn{
  background:var(--accent)!important;
  color:#0F1C2E!important;
  border:1px solid rgba(255,255,255,0.08)!important;
}
button:hover,.btn:hover{background:var(--accent2)!important;}

.badge,.pill,.chip{
  background:rgba(19,36,58,0.85)!important;
  color:var(--text)!important;
  border:1px solid var(--line)!important;
}

.bar{
  background:rgba(11,21,37,0.65)!important;
  border:1px solid var(--line)!important;
}
.bar>div{background:var(--accent)!important;}

.callout{
  margin-top:10px;
  padding:10px 12px;
  border:1px dashed var(--line);
  border-radius:12px;
  background:rgba(19,36,58,0.70);
}



/* === Soft Blue Therapy Global Overrides (v4) === */
h1,h2,h3,h4{color:var(--title)}
a{color:var(--accent2)}
.card{border:1px solid var(--line);background:var(--card)}
.pill{border:1px solid var(--line);background:rgba(19,36,58,0.65);color:var(--title)}
.pill.active{border-color:var(--accent)}
.muted{color:var(--hint)}
.small{font-size:14px; line-height:1.45}
label{color:var(--hint); font-size:13px}
input,select,textarea{background:rgba(15,28,46,0.85); color:var(--text); border:1px solid var(--line)}
input::placeholder,textarea::placeholder{color:rgba(230,240,250,0.55)}
button{background:var(--accent); color:#0F1C2E; border:0}
button:hover{background:var(--accent2)}
.kpi{background:rgba(19,36,58,0.65); border:1px solid var(--line); color:var(--title)}
.callout,.therapy-box{background:rgba(19,36,58,0.80); border:1px solid var(--line); color:var(--text)}
.error{background:rgba(239,68,68,0.15); border:1px solid rgba(239,68,68,0.45); color:var(--title)}
hr{border-color:var(--line)}



/* === SOFT BLUE THERAPY PATCH v5 (fix white boxes + yellow text) === */
:root{
  --bg:#0F1C2E;
  --card:#13243A;
  --text:#E6F0FA;
  --title:#F8FBFF;
  --muted: rgba(230,240,250,0.75);
  --line: rgba(79,195,247,0.25);
  --accent:#4FC3F7;
  --accent2:#81D4FA;
  --hint: rgba(230,240,250,0.92); /* was yellow */
}

/* Typography fixes */
.small, .muted, .helper, .subtext, .caption{
  color: var(--muted) !important;
}
label{ color: var(--muted) !important; }
.kpi, .pill{ color: var(--text) !important; }

/* Make previously yellow "hint/question" text consistent with theme */
.hint, .question, .qline, .attention{
  color: var(--text) !important;
  font-weight: 600;
}

/* Universal callout card (replaces white boxes) */
.callout{
  margin-top: 10px;
  padding: 12px 14px;
  border: 1px solid var(--line);
  border-radius: 12px;
  background: rgba(19,36,58,0.92);
  color: var(--text);
}

/* Remove remaining light backgrounds across components */
.pill, .seg-btn, .kpi-card, .box, .prompt, .reflection, .note, .guide{
  background: rgba(19,36,58,0.92) !important;
  color: var(--text) !important;
  border-color: var(--line) !important;
}
.pill.active, .seg-btn.active{
  background: rgba(79,195,247,0.18) !important;
  border-color: rgba(79,195,247,0.55) !important;
  color: var(--title) !important;
}

/* Inputs should never be white */
input, select, textarea{
  background: rgba(15,28,46,0.85) !important;
  color: var(--text) !important;
  border-color: rgba(79,195,247,0.45) !important;
}

.warn{border:1px solid #f6e58d;background:rgba(253,230,138,0.10);color:#fde68a;border-radius:10px;padding:12px;margin-top:12px;font-size:13px}
.badge{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px;border:1px solid rgba(253,230,138,0.4);color:#fde68a;background:rgba(253,230,138,0.08)}
